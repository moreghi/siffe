<p>commanda-registrazione works!</p>

<div class="container">
  <!-- visibleTab1:{{visibleTab1}}<br>
  visibleTab2:{{visibleTab2}}<br>
  persone:{{persone | json}}<br> -->
  <label  class="col-sm-12 col-form-label" style="text-align: center; text-transform: uppercase; font-weight: bold; color: red" ><strong>{{title}}</strong></label><br>
<div >
  <div class="col-md-auto">
    <form #fm ="ngForm"  method="POST">
      <input hidden #id="ngModel"  [(ngModel)]="giornata.id" class="form-control" name="id" id="id">
      <input hidden #key_utenti_operation="ngModel"  [(ngModel)]="giornata.key_utenti_operation" class="form-control" name="key_utenti_operation" id="key_utenti_operation">

      <br>
      <strong><label  class="col-form-label">Totali</label></strong>




      <div class="row">
        <label for="dtGiornata" class="col-sm-1 col-form-label">Giornata</label>
        <div class="col-md-2 ">
          <input readonly [(ngModel)]="giornata.dtGiornata"  [ngModel]="giornata.dtGiornata1" #dtGiornata="ngModel" class="form-control"  name="dtGiornata" id="dtGiornata"  >
        </div>

        <div class="col-md-1">
          <div>
            <input disabled #d_stato_giornata="ngModel"  [(ngModel)]="giornata.d_stato_giornata" class="form-control" name="d_stato_giornata" id="d_stato_giornata" [style.color]="giornata.stato == 2 ? 'red' : null">
          </div>
        </div>


          <label for="Tnumero" class="col-md-1 col-form-label totali">Commande</label>
          <div class=" col-md-1">
              <input disabled class="form-control" type="text" name="Tnumero" [(ngModel)]="Tnumero" autocomplete="off" >
          </div>
          <label for="Tnumpersone" class="col-sm-1 col-form-label totali">Persone</label>
          <div class=" col-md-1">
              <input disabled class="form-control" type="text" name="Tnumpersone" [(ngModel)]="Tnumpersone" autocomplete="off" >
          </div>
           <label for="Tpagato" class="col-sm-1 col-form-label totali">Pagato</label>
          <div class=" col-md-1">
              <input disabled class="form-control" type="text" name="Tpagato" [(ngModel)]="Tpagato" autocomplete="off" >
          </div>



      </div>
      <br>

 <!-- bottone per registrazione -->
      <div class="row">
            <!-- <div class="row col-sm-2 ">
              <button  class="btn btn-success btn-rounded"  (click)="elenco()">Elenco
                <fa-icon [icon]="faSearch"  fixed="true"></fa-icon>
              </button>
            </div>&nbsp;&nbsp; -->
            <div class="row col-sm-2 ">
              <button  class="btn btn-primary btn-rounded"  (click)="NuovaCommanda(idlogged)">Registrazione
                <fa-icon [icon]="faPlusSquare"  fixed="true"></fa-icon>
              </button>
            </div>
            <div class="col-sm-8">
              <div class="form-check form-check-inline" *ngFor="let option of options; index as idx">
                <input type="radio" name="radiogroup" [checked]="idx === 0" [value]="option" (change)="onSelectionChange(option)">&nbsp; {{option}}
              </div>
            </div>
      </div>
      <br>

      <!-- <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-anagrafica-tab" data-bs-toggle="pill" data-bs-target="#pills-anagrafica" type="button" role="tab" aria-controls="pills-anagrafica" aria-selected="true"  [ngClass]="{'active': visibleTab1 === true, '' : visibleTab1 === false}">Anagrafica</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-volontari-tab" data-bs-toggle="pill" data-bs-target="#pills-volontari" type="button" role="tab" aria-controls="pills-volontari" aria-selected="true" [ngClass]="{'active': visibleTab2 === true, '' : visibleTab2 === false}" >Volontari</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-prenotazioni-tab" data-bs-toggle="pill" data-bs-target="#pills-prenotazioni" type="button" role="tab" aria-controls="pills-prenotazioni" aria-selected="true" >Prenotazioni</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false"  >Prodotti</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false" >Cassa</button>
        </li>
      </ul>
      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-anagrafica" role="tabpanel" aria-labelledby="pills-anagrafica-tab" >
              <div class="container col-md-8" style="border: 3px solid red; border-radius: 10px; box-shadow:5px 5px 3px #a3a0a1;" *ngIf="visibleTab1 === true">
                  <br>

                   <div class="form-group row">
                     <div class="col-md-2"></div>
                       <label for="anagrafica_cliente" class="col-sm-1 col-form-label">Cliente</label>
                       <div class="col-sm-6" >
                         <input  type="text":focus #anagrafica_cliente="ngModel"  [(ngModel)]="commandaw.anagrafica_cliente" class="form-control" name="anagrafica_cliente" id="anagrafica_cliente" required minlength="4" maxlength="50" pattern="[0-9a-zA-Z\s]*" placeholder="Inserire Cliente" >&nbsp;&nbsp; <label  *ngIf="activateNuovaCommanda === false" class="errbtn">{{testopressButton}}</label>
                       </div>

                       <div *ngIf="anagrafica_cliente.dirty && anagrafica_cliente.touched && anagrafica_cliente.invalid" class="alert alert-danger">

                           <div *ngIf="anagrafica_cliente.errors.required">
                               <span>il nome del cliente è obbligatorio</span>
                           </div>
                           <div *ngIf="anagrafica_cliente.errors.minlength">
                             <span>il nome del cliente deve essere di almeno 4 caratteri</span>
                           </div>
                           <div *ngIf="anagrafica_cliente.errors.maxlength">
                               <span>il nome del cliente non può essere più lunga di 50 caratteri</span>
                           </div>
                         </div>
                   </div>
                   <br>
                   <div class="row">
                       <div class="col-md-2"></div>
                       <label for="numPersone" class="col-sm-1 col-form-label">Persone</label>
                       <div class="col-md-1">
                         <input type="text":focus #numPersone="ngModel"  [(ngModel)]="commandaw.numPersone" class="form-control" name="numPersone" id="numPersone" required pattern="[1-9]*" placeholder="Inserire Persone">
                       </div>
                       <br>
                       <div *ngIf="numPersone.invalid && (numPersone.dirty || numPersone.touched)" class="alert-danger">
                         <div *ngIf="numPersone.errors.required">
                             <span>il numero delle persone è obbligatorio</span>
                         </div>
                         <div *ngIf="numPersone.errors.pattern">
                           <span>inserire il numero delle persone</span>
                         </div>
                       </div>
                       <label for="numTavolo" class="col-sm-1 col-form-label">Tavolo</label>
                       <div class="col-sm-1">
                           <input type="text":focus #numTavolo="ngModel"  [(ngModel)]="commandaw.numTavolo" class="form-control" name="numTavolo" id="numTavolo" required pattern="[0-9]*" placeholder="Inserire Tavolo">
                       </div>
                       <br>
                       <div *ngIf="numTavolo.invalid && (numTavolo.dirty || numTavolo.touched)" class="alert-danger">
                         <div *ngIf="numTavolo.errors.required">
                             <span>il numero del tavolo è obbligatorio</span>
                         </div>
                         <div *ngIf="numTavolo.errors.pattern">
                           <span>inserire il numero del tavolo</span>
                         </div>
                       </div>

                   </div>
                   <br>


                  <div class="container col-md-10 offset-3">
                    <br>
                      <div class="form-group form-footer">
                        <div class="row">
                          <div class="col-sm-3">
                            <button class="btn btn-primary  btn-md"  (click)="backToGiornata()">Back
                                  <fa-icon [icon]="faHandPointLeft"></fa-icon>
                            </button>
                          </div>

                          <div class="col-sm-3">
                              <button [disabled]="fm.invalid" class="btn-md btn btn-info float-right"  (click)="registraProdotti()">Prodotti
                                <fa-icon [icon]="faHandPointLeft"></fa-icon>
                              </button>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
        </div>
        <div class="tab-pane fade show" id="pills-volontari" role="tabpanel" aria-labelledby="pills-volontari-tab">

            <br>
            <table class="table table-striped table-sm shadow-lg p-3 mb-5 bg-white ">

              <tr>
                <th>prog</th>
                <th>Cognome</th>
                <th>Nome</th>
                <th>Action</th>
                <th></th>
                <th></th>
              </tr>


              <tr app-persona1  *ngFor ="let persona1 of persone | filter:searchText | paginate: { itemsPerPage: 5, currentPage: p_pers }; let i = index"
                [persona1-prog] = i+1
                [persona1-data] = "persona1"
                (onSelectPersona) ="onSelectPersona($event)"
                >


              </tr>
            </table>
            <pagination-controls (pageChange)=" p_pers = $event"></pagination-controls>



        </div>
        <div class="tab-pane fade" id="pills-prenotazioni" role="tabpanel" aria-labelledby="pills-prenotazioni-tab">
          merdaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          <div class="container col-md-8" style="border: 3px solid red; border-radius: 10px; box-shadow:5px 5px 3px #a3a0a1;" *ngIf="visibleTab3 === true">


                  <table class="table table-striped table-sm shadow-lg p-3 mb-5 bg-white ">

                    <tr>
                      <th>prog</th>
                      <th>Cognome</th>
                      <th>Nome</th>
                      <th>Action</th>
                      <th></th>
                      <th></th>
                    </tr>


                    <tr app-persona1  *ngFor ="let persona1 of persone | filter:searchText | paginate: { itemsPerPage: 5, currentPage: p_pers }; let i = index"
                      [persona1-prog] = i+1
                      [persona1-data] = "persona1"
                      (onSelectPersona) ="onSelectPersona($event)"
                      >


                    </tr>
                  </table>
                  <pagination-controls (pageChange)=" p_pers = $event"></pagination-controls>
          </div>
        </div>
      </div>






      <div class="row">
        <div class="row col-sm-2 ">
          <button  class="btn btn-success btn-rounded"  (click)="visibileTab()">Tabs ....
            <fa-icon [icon]="faSearch"  fixed="true"></fa-icon>
          </button>
        </div>
      </div> -->



<!--  inizio -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body> -->

<div class="container mt-3">
  <br>
  <!-- Nav tabs -->
  <ul class="nav nav-tabs nav-pills" role="tablist">
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#anagrafica" [class.active]="activetab == 'anagrafica'"                tabindex="0" [ngClass]="{'active': visibleTab1 === true}" (click)="onTabClick('anagrafica')">Anagrafica</a>  <!--  active-->
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#volontari" [class.active]="activetab == 'volontari'" tabindex="1" (click)="loadPersonaleSanfra(this.idGiornata, this.inServizio)">Volontari</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#prenotazioni" [class.active]="activetab == 'prenotazioni'" tabindex="2" (click)="onTabClick('prenotazioni')">Prenotazioni</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#elenco"  [class.active]="activetab == 'elenco'" tabindex="3" (click)="elenco()">Elenco</a>
    </li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div id="anagrafica" class="container tab-pane active"><br>
      <!-- <h3>Anagrafica</h3> -->
      <div class="container col-md-8" style="border: 3px solid red; border-radius: 10px; box-shadow:5px 5px 3px #a3a0a1;" *ngIf="activetab == 'anagrafica'">
        <br>

         <div class="form-group row">
           <div class="col-md-2"></div>
             <label for="anagrafica_cliente" class="col-sm-1 col-form-label">Cliente</label>
             <div class="col-sm-6" >
               <input  type="text":focus #anagrafica_cliente="ngModel"  [(ngModel)]="commandaw.anagrafica_cliente" class="form-control" name="anagrafica_cliente" id="anagrafica_cliente" required minlength="4" maxlength="50" pattern="[0-9a-zA-Z\s]*" placeholder="Inserire Cliente" >&nbsp;&nbsp; <label  *ngIf="activateNuovaCommanda === false" class="errbtn">{{testopressButton}}</label>
             </div>

             <div *ngIf="anagrafica_cliente.dirty && anagrafica_cliente.touched && anagrafica_cliente.invalid" class="alert alert-danger">

                 <div *ngIf="anagrafica_cliente.errors.required">
                     <span>il nome del cliente è obbligatorio</span>
                 </div>
                 <div *ngIf="anagrafica_cliente.errors.minlength">
                   <span>il nome del cliente deve essere di almeno 4 caratteri</span>
                 </div>
                 <div *ngIf="anagrafica_cliente.errors.maxlength">
                     <span>il nome del cliente non può essere più lunga di 50 caratteri</span>
                 </div>
               </div>
         </div>
         <br>
         <div class="row">
             <div class="col-md-2"></div>
             <label for="numPersone" class="col-sm-1 col-form-label">Persone</label>
             <div class="col-md-1">
               <input type="text":focus #numPersone="ngModel"  [(ngModel)]="commandaw.numPersone" class="form-control" name="numPersone" id="numPersone" required pattern="[1-9]*" placeholder="Inserire Persone">
             </div>
             <br>
             <div *ngIf="numPersone.invalid && (numPersone.dirty || numPersone.touched)" class="alert-danger">
               <div *ngIf="numPersone.errors.required">
                   <span>il numero delle persone è obbligatorio</span>
               </div>
               <div *ngIf="numPersone.errors.pattern">
                 <span>inserire il numero delle persone</span>
               </div>
             </div>
             <label for="numTavolo" class="col-sm-1 col-form-label">Tavolo</label>
             <div class="col-sm-2">
                 <input type="text":focus #numTavolo="ngModel"  [(ngModel)]="commandaw.numTavolo" class="form-control" name="numTavolo" id="numTavolo" required pattern="[0-9]*" placeholder="Inserire Tavolo">
             </div>
             <br>
             <div *ngIf="numTavolo.invalid && (numTavolo.dirty || numTavolo.touched)" class="alert-danger">
               <div *ngIf="numTavolo.errors.required">
                   <span>il numero del tavolo è obbligatorio</span>
               </div>
               <div *ngIf="numTavolo.errors.pattern">
                 <span>inserire il numero del tavolo</span>
               </div>
             </div>

         </div>
         <br>


        <div class="container col-md-10 offset-3">
          <br>
            <div class="form-group form-footer">
              <div class="row">
                <div class="col-sm-3">
                  <button class="btn btn-primary  btn-md"  (click)="backToGiornata()">Back
                        <fa-icon [icon]="faHandPointLeft"></fa-icon>
                  </button>
                </div>

                <div class="col-sm-3">
                    <button [disabled]="fm.invalid" class="btn-md btn btn-info float-right"  (click)="registraProdotti()">Prodotti
                      <fa-icon [icon]="faHandPointLeft"></fa-icon>
                    </button>
                </div>
              </div>
            </div>
        </div>
    </div>
    </div>
    <div id="volontari" class="container tab-pane fade"><br>
      <!-- <h3>Volontari</h3> -->
      <table class="table table-striped table-sm shadow-lg p-3 mb-5 bg-white ">

        <tr>
          <th>prog</th>
          <th>Cognome</th>
          <th>Nome</th>
          <th>Action</th>
          <th></th>
          <th></th>
        </tr>

        <!-- [style.color]="prodotto.aMenu == '?' ? 'red' : null "  -->
        <tr app-persona1  *ngFor ="let persona1 of persone | filter:searchText | paginate: { itemsPerPage: 5, currentPage: p_pers }; let i = index"
          [persona1-prog] = i+1
          [persona1-data] = "persona1"
          (onSelectPersona) ="onSelectPersona($event)"
          >


        </tr>
      </table>
      <pagination-controls (pageChange)=" p_pers = $event"></pagination-controls>


    </div>
    <div id="prenotazioni" class="container tab-pane fade" *ngIf="activetab == 'prenotazioni'"><br>
      <!-- <h3>Menu 2</h3> -->
      <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,
          totam rem aperiam.</p>
    </div>
    <div id="elenco" class="container tab-pane fade"><br>
      <h3>fare elenco delle commande</h3>
      <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,
          totam rem aperiam.</p>
    </div>
  </div>
</div>
<!-- </body>
</html> -->

<!-- fine -->
    </form>
  </div>
</div>
</div>
